(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[655],{9893:function(e,t,r){Promise.resolve().then(r.bind(r,3595))},3595:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(7821),a=r(8078),n=r(8504),l=r(4542),i=r(9618),c=r(7930),o=r(7211),d=r(4821),x=r(717);function h(e){let{asin:t,currentPrice:r,originalPrice:n}=e,{lang:l,t:d}=(0,c.Q)(),[x,h]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0),[u,g]=(0,a.useState)(null);if((0,a.useEffect)(()=>{i.h.getPriceHistory(t).then(h).catch(()=>h([])).finally(()=>p(!1))},[t]),m)return(0,s.jsx)("div",{className:"animate-pulse h-64 bg-white/[0.03] rounded-2xl"});let j=(0,o.Y$)(r,n,x),f=Math.max(...x.map(e=>e.price),r,n),b=Math.min(...x.map(e=>e.price),r),N=x.length>0?Math.round(x.reduce((e,t)=>e+t.price,0)/x.length):r,w={real:{bg:"bg-emerald-500/[0.08]",border:"border-emerald-500/20",icon:(0,s.jsx)("svg",{className:"w-5 h-5 text-emerald-400 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),label:"ar"===l?"خصم حقيقي":"Genuine Deal"},fake:{bg:"bg-red-500/[0.08]",border:"border-red-500/20",icon:(0,s.jsx)("svg",{className:"w-5 h-5 text-red-400 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),label:"ar"===l?"خصم مشبوه":"Suspicious Discount"},unknown:{bg:"bg-amber-500/[0.08]",border:"border-amber-500/20",icon:(0,s.jsx)("svg",{className:"w-5 h-5 text-amber-400 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),label:"ar"===l?"بيانات غير كافية":"Insufficient Data"}}[j];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:d("product.priceHistory")}),(0,s.jsxs)("span",{className:"text-xs text-gray-600",children:[x.length," data points"]})]}),(0,s.jsxs)("div",{className:"p-4 rounded-xl border ".concat(w.bg," ").concat(w.border," flex items-start gap-3"),children:[w.icon,(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-sm text-white mb-0.5",children:w.label}),(0,s.jsx)("p",{className:"text-xs text-gray-400 leading-relaxed",children:d("product.".concat("real"===j?"realDeal":"fake"===j?"fakeDeal":"notEnoughData"))})]})]}),x.length>1?(0,s.jsxs)("div",{className:"bg-white/[0.02] rounded-2xl border border-white/[0.06] p-6",children:[(0,s.jsxs)("svg",{viewBox:"0 0 600 200",className:"w-full h-52",onMouseLeave:()=>g(null),children:[[0,.25,.5,.75,1].map(e=>(0,s.jsx)("line",{x1:"40",y1:160*e+15,x2:"590",y2:160*e+15,stroke:"rgba(255,255,255,0.04)",strokeWidth:"1"},e)),[0,.5,1].map(e=>{let t=f-e*(f-b);return(0,s.jsx)("text",{x:"35",y:160*e+19,fill:"rgba(255,255,255,0.2)",fontSize:"9",textAnchor:"end",fontFamily:"Inter",children:Math.round(t)},e)}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"areaGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.2"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0"})]})}),(0,s.jsx)("polygon",{fill:"url(#areaGrad)",points:"50,175 ".concat(x.map((e,t)=>{let r=t/(x.length-1)*530+50,s=f-b||1,a=175-(e.price-b)/s*160;return"".concat(r,",").concat(a)}).join(" ")," 580,175")}),(0,s.jsx)("polyline",{fill:"none",stroke:"#10b981",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",points:x.map((e,t)=>{let r=t/(x.length-1)*530+50,s=f-b||1,a=175-(e.price-b)/s*160;return"".concat(r,",").concat(a)}).join(" ")}),x.map((e,t)=>{let r=t/(x.length-1)*530+50,a=f-b||1,n=175-(e.price-b)/a*160,i=u===t;return(0,s.jsxs)("g",{onMouseEnter:()=>g(t),children:[(0,s.jsx)("circle",{cx:r,cy:n,r:"16",fill:"transparent"}),(0,s.jsx)("circle",{cx:r,cy:n,r:i?5:3,fill:i?"#10b981":"#0a0a0f",stroke:"#10b981",strokeWidth:"2",className:"transition-all duration-150"}),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("rect",{x:r-40,y:n-32,width:"80",height:"22",rx:"6",fill:"#1a1a24",stroke:"rgba(255,255,255,0.1)",strokeWidth:"1"}),(0,s.jsxs)("text",{x:r,y:n-18,fill:"white",fontSize:"10",textAnchor:"middle",fontFamily:"Inter",fontWeight:"600",children:[(0,o.T4)(e.price,l)," ",d("common.sar")]})]})]},t)}),x.filter((e,t)=>0===t||t===x.length-1||t===Math.floor(x.length/2)).map((e,t)=>{let r=0===t?0:1===t?Math.floor(x.length/2):x.length-1,a=r/(x.length-1)*530+50;return(0,s.jsx)("text",{x:a,y:"195",fill:"rgba(255,255,255,0.2)",fontSize:"9",textAnchor:"middle",fontFamily:"Inter",children:e.recorded_at},r)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-3 mt-5 pt-5 border-t border-white/[0.06]",children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-600 uppercase tracking-wider mb-1",children:d("price.lowest")}),(0,s.jsx)("p",{className:"text-sm font-bold text-emerald-400",children:(0,o.T4)(b,l)})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-600 uppercase tracking-wider mb-1",children:d("price.current")}),(0,s.jsx)("p",{className:"text-sm font-bold text-white",children:(0,o.T4)(r,l)})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-600 uppercase tracking-wider mb-1",children:d("price.average")}),(0,s.jsx)("p",{className:"text-sm font-bold text-gray-400",children:(0,o.T4)(N,l)})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("p",{className:"text-[10px] text-gray-600 uppercase tracking-wider mb-1",children:d("price.highest")}),(0,s.jsx)("p",{className:"text-sm font-bold text-red-400",children:(0,o.T4)(f,l)})]})]})]}):(0,s.jsx)("div",{className:"bg-white/[0.02] rounded-2xl border border-white/[0.06] p-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:d("product.notEnoughData")})})]})}function m(){let{asin:e}=(0,n.useParams)(),{lang:t,t:r}=(0,c.Q)(),[m,p]=(0,a.useState)(null),[u,g]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{i.h.getProduct(e).then(p).catch(console.error).finally(()=>g(!1))},[e]),u)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{}),(0,s.jsx)("main",{className:"flex-1 container-main py-12",children:(0,s.jsxs)("div",{className:"animate-pulse grid md:grid-cols-2 gap-10",children:[(0,s.jsx)("div",{className:"aspect-square bg-white/[0.03] rounded-2xl"}),(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsx)("div",{className:"h-4 bg-white/[0.04] rounded-full w-24"}),(0,s.jsx)("div",{className:"h-7 bg-white/[0.04] rounded-full w-full"}),(0,s.jsx)("div",{className:"h-7 bg-white/[0.04] rounded-full w-2/3"}),(0,s.jsx)("div",{className:"h-10 bg-white/[0.06] rounded-full w-40 mt-6"})]})]})}),(0,s.jsx)(x.Z,{})]});if(!m)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)("main",{className:"flex-1 container-main py-20 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-white/[0.04] flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("p",{className:"text-gray-500 font-medium",children:"Product not found"})]}),(0,s.jsx)(x.Z,{})]});let j=m.discount_pct>0&&m.original_price>m.current_price;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)("main",{className:"flex-1 container-main py-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-8 flex-wrap",children:[(0,s.jsx)(l.default,{href:"/",className:"hover:text-gray-400 transition-colors",children:r("nav.home")}),(0,s.jsx)("svg",{className:"w-3 h-3 rtl:rotate-180 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,s.jsx)(l.default,{href:"/category/".concat(m.category_slug),className:"hover:text-gray-400 transition-colors",children:m.category_name}),(0,s.jsx)("svg",{className:"w-3 h-3 rtl:rotate-180 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,s.jsx)("span",{className:"text-gray-500 truncate max-w-xs",children:m.title})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-10 lg:gap-14",children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl p-8 lg:p-12 flex items-center justify-center sticky top-24 self-start",children:m.image_url?(0,s.jsx)("img",{src:m.image_url,alt:m.title,className:"max-h-[400px] object-contain"}):(0,s.jsx)("div",{className:"text-6xl opacity-20",children:"\uD83D\uDCE6"})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("span",{className:"inline-block text-[11px] font-semibold text-emerald-500 uppercase tracking-wider bg-emerald-500/10 px-3 py-1 rounded-full",children:m.category_name}),(0,s.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-white leading-tight tracking-tight",children:m.title}),m.rating>0&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex gap-0.5",children:Array.from({length:5}).map((e,t)=>(0,s.jsx)("svg",{className:"w-4 h-4 ".concat(t<Math.round(m.rating)?"text-amber-400":"text-gray-700"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[m.rating," ",(0,s.jsxs)("span",{className:"text-gray-700",children:["(",m.ratings_total.toLocaleString()," ",r("product.reviews"),")"]})]})]}),(0,s.jsxs)("div",{className:"bg-white/[0.03] rounded-2xl border border-white/[0.06] p-6 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-3 flex-wrap",children:[(0,s.jsx)("span",{className:"text-3xl lg:text-4xl font-black text-white tabular-nums",children:(0,o.T4)(m.current_price,t)}),(0,s.jsx)("span",{className:"text-lg text-gray-500 font-medium",children:r("common.sar")}),j&&(0,s.jsxs)("span",{className:"badge-discount text-sm",children:["-",m.discount_pct,"% ",r("product.off")]})]}),j&&(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:[r("product.was")," ",(0,s.jsxs)("span",{className:"line-through",children:[(0,o.T4)(m.original_price,t)," ",r("common.sar")]})]})]}),(0,s.jsxs)("a",{href:m.amazon_url,target:"_blank",rel:"noopener noreferrer",className:"btn-primary inline-flex items-center justify-center gap-2 w-full sm:w-auto text-center",children:[r("product.viewDeal"),(0,s.jsx)("svg",{className:"w-4 h-4 rtl:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),(0,s.jsxs)("p",{className:"text-[11px] text-gray-700",children:["ar"===t?"آخر تحديث":"Last updated",": ",new Date(m.last_updated).toLocaleDateString("ar"===t?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric"})]})]})]}),(0,s.jsx)("div",{className:"mt-14",children:(0,s.jsx)(h,{asin:m.asin,currentPrice:m.current_price,originalPrice:m.original_price})})]}),(0,s.jsx)(x.Z,{})]})}}},function(e){e.O(0,[35,971,115,364,744],function(){return e(e.s=9893)}),_N_E=e.O()}]);